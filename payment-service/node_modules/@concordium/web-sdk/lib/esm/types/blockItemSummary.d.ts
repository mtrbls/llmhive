import { type Upward } from '../grpc/upward.js';
import { CreatePLTPayload } from '../plt/types.js';
import { AccountTransactionType, TransactionStatusEnum, TransactionSummaryType } from '../types.js';
import * as AccountAddress from './AccountAddress.js';
import type * as BlockHash from './BlockHash.js';
import * as ContractAddress from './ContractAddress.js';
import type * as ContractEvent from './ContractEvent.js';
import type * as Energy from './Energy.js';
import type * as TransactionHash from './TransactionHash.js';
import { UpdateInstructionPayload } from './chainUpdate.js';
import { RejectReason } from './rejectReason.js';
import { AccountTransferredEvent, AmountAddedByDecryptionEvent, BakerAddedEvent, BakerEvent, BakerKeysUpdatedEvent, BakerRemovedEvent, BakerSetRestakeEarningsEvent, BakerStakeChangedEvent, ContractInitializedEvent, ContractTraceEvent, CredentialKeysUpdatedEvent, CredentialsUpdatedEvent, DataRegisteredEvent, DelegationEvent, EncryptedAmountsRemovedEvent, EncryptedSelfAmountAddedEvent, MemoEvent, ModuleDeployedEvent, NewEncryptedAmountEvent, TokenEvent, TransferredWithScheduleEvent } from './transactionEvent.js';
export interface BaseBlockItemSummary {
    index: bigint;
    energyCost: Energy.Type;
    hash: TransactionHash.Type;
}
export interface BaseAccountTransactionSummary extends BaseBlockItemSummary {
    type: TransactionSummaryType.AccountTransaction;
    cost: bigint;
    sender: AccountAddress.Type;
}
export declare enum TransactionKindString {
    DeployModule = "deployModule",
    InitContract = "initContract",
    Update = "update",
    Transfer = "transfer",
    AddBaker = "addBaker",
    RemoveBaker = "removeBaker",
    UpdateBakerStake = "updateBakerStake",
    UpdateBakerRestakeEarnings = "updateBakerRestakeEarnings",
    UpdateBakerKeys = "updateBakerKeys",
    UpdateCredentialKeys = "updateCredentialKeys",
    BakingReward = "bakingReward",
    BlockReward = "blockReward",
    FinalizationReward = "finalizationReward",
    EncryptedAmountTransfer = "encryptedAmountTransfer",
    TransferToEncrypted = "transferToEncrypted",
    TransferToPublic = "transferToPublic",
    TransferWithSchedule = "transferWithSchedule",
    UpdateCredentials = "updateCredentials",
    RegisterData = "registerData",
    TransferWithMemo = "transferWithMemo",
    EncryptedAmountTransferWithMemo = "encryptedAmountTransferWithMemo",
    TransferWithScheduleAndMemo = "transferWithScheduleAndMemo",
    ConfigureBaker = "configureBaker",
    ConfigureDelegation = "configureDelegation",
    StakingReward = "paydayAccountReward",
    Failed = "failed",
    TokenUpdate = "tokenUpdate"
}
/**
 * Given an AccountTransactionType number value, return the corresponding TransactionKindString value
 */
export declare function getTransactionKindString(type: AccountTransactionType): TransactionKindString;
export interface TransferSummary {
    transactionType: TransactionKindString.Transfer;
    transfer: AccountTransferredEvent;
}
export interface TransferWithMemoSummary {
    transactionType: TransactionKindString.TransferWithMemo;
    transfer: AccountTransferredEvent;
    memo: MemoEvent;
}
export interface TransferWithScheduleSummary {
    transactionType: TransactionKindString.TransferWithSchedule;
    event: TransferredWithScheduleEvent;
}
export interface TransferWithScheduleAndMemoSummary {
    transactionType: TransactionKindString.TransferWithScheduleAndMemo;
    transfer: TransferredWithScheduleEvent;
    memo: MemoEvent;
}
export interface EncryptedAmountTransferSummary {
    transactionType: TransactionKindString.EncryptedAmountTransfer;
    removed: EncryptedAmountsRemovedEvent;
    added: NewEncryptedAmountEvent;
}
export interface EncryptedAmountTransferWithMemoSummary {
    transactionType: TransactionKindString.EncryptedAmountTransferWithMemo;
    removed: EncryptedAmountsRemovedEvent;
    added: NewEncryptedAmountEvent;
    memo: MemoEvent;
}
export interface ModuleDeployedSummary {
    transactionType: TransactionKindString.DeployModule;
    moduleDeployed: ModuleDeployedEvent;
}
export interface InitContractSummary {
    transactionType: TransactionKindString.InitContract;
    contractInitialized: ContractInitializedEvent;
}
export interface UpdateContractSummary {
    transactionType: TransactionKindString.Update;
    /**
     * The events related to the contract update.
     *
     * **Please note**, these can possibly be unknown if the SDK is not fully compatible with the Concordium
     * node queried, in which case `null` is returned.
     */
    events: Upward<ContractTraceEvent>[];
}
export interface DataRegisteredSummary {
    transactionType: TransactionKindString.RegisterData;
    dataRegistered: DataRegisteredEvent;
}
export interface TransferToPublicSummary {
    transactionType: TransactionKindString.TransferToPublic;
    removed: EncryptedAmountsRemovedEvent;
    added: AmountAddedByDecryptionEvent;
}
export interface TransferToEncryptedSummary {
    transactionType: TransactionKindString.TransferToEncrypted;
    added: EncryptedSelfAmountAddedEvent;
}
export interface AddBakerSummary {
    transactionType: TransactionKindString.AddBaker;
    bakerAdded: BakerAddedEvent;
}
export interface RemoveBakerSummary {
    transactionType: TransactionKindString.RemoveBaker;
    bakerRemoved: BakerRemovedEvent;
}
export interface UpdateBakerKeysSummary {
    transactionType: TransactionKindString.UpdateBakerKeys;
    bakerKeysUpdated: BakerKeysUpdatedEvent;
}
export interface UpdateBakerStakeSummary {
    transactionType: TransactionKindString.UpdateBakerStake;
    bakerStakeChanged: BakerStakeChangedEvent;
}
export interface UpdateBakerRestakeEarningsSummary {
    transactionType: TransactionKindString.UpdateBakerRestakeEarnings;
    bakerRestakeEarningsUpdated: BakerSetRestakeEarningsEvent;
}
export interface ConfigureBakerSummary {
    transactionType: TransactionKindString.ConfigureBaker;
    /**
     * The events corresponding to the baker configuration
     *
     * **Please note**, these can possibly be unknown if the SDK is not fully compatible with the Concordium
     * node queried, in which case `null` is returned.
     */
    events: Upward<BakerEvent>[];
}
export interface ConfigureDelegationSummary {
    transactionType: TransactionKindString.ConfigureDelegation;
    /**
     * The events corresponding to the delegation configuration
     *
     * **Please note**, these can possibly be unknown if the SDK is not fully compatible with the Concordium
     * node queried, in which case `null` is returned.
     */
    events: Upward<DelegationEvent>[];
}
export interface UpdateCredentialKeysSummary {
    transactionType: TransactionKindString.UpdateCredentialKeys;
    keysUpdated: CredentialKeysUpdatedEvent;
}
export interface UpdateCredentialsSummary {
    transactionType: TransactionKindString.UpdateCredentials;
    credentialsUpdated: CredentialsUpdatedEvent;
}
export interface FailedTransactionSummary {
    transactionType: TransactionKindString.Failed;
    failedTransactionType?: TransactionKindString;
    /**
     * The reject reason for the failed transaction
     *
     * **Please note**, this can possibly be unknown if the SDK is not fully compatible with the Concordium
     * node queried, in which case `null` is returned.
     */
    rejectReason: Upward<RejectReason>;
}
/**
 * The summary of a token transaction of any type.
 */
export type TokenUpdateSummary = {
    transactionType: TransactionKindString.TokenUpdate;
    /**
     * The token update details
     *
     * **Please note**, these can possibly be unknown if the SDK is not fully compatible with the Concordium
     * node queried, in which case `null` is returned.
     */
    events: Upward<TokenEvent>[];
};
/**
 * Tagged union type of all possible account transaction summaries, distinguishable by the `transactionType` tag.
 */
export type AccountTransactionSummary = BaseAccountTransactionSummary & (TransferSummary | TransferWithMemoSummary | TransferWithScheduleSummary | TransferWithScheduleAndMemoSummary | EncryptedAmountTransferSummary | EncryptedAmountTransferWithMemoSummary | DataRegisteredSummary | TransferToPublicSummary | TransferToEncryptedSummary | ModuleDeployedSummary | InitContractSummary | UpdateContractSummary | FailedTransactionSummary | AddBakerSummary | RemoveBakerSummary | UpdateBakerKeysSummary | UpdateBakerStakeSummary | UpdateBakerRestakeEarningsSummary | ConfigureBakerSummary | ConfigureDelegationSummary | UpdateCredentialKeysSummary | UpdateCredentialsSummary | TokenUpdateSummary);
export interface AccountCreationSummary extends BaseBlockItemSummary {
    type: TransactionSummaryType.AccountCreation;
    credentialType: 'initial' | 'normal';
    address: AccountAddress.Type;
    regId: string;
}
export interface UpdateSummary extends BaseBlockItemSummary {
    type: TransactionSummaryType.UpdateTransaction;
    effectiveTime: bigint;
    /**
     * The payload of update.
     *
     * **Please note**, this can possibly be unknown if the SDK is not fully compatible with the Concordium
     * node queried, in which case `null` is returned.
     */
    payload: Upward<UpdateInstructionPayload>;
}
export type TokenCreationSummary = {
    type: TransactionSummaryType.TokenCreation;
    payload: CreatePLTPayload;
    /**
     * The token creation details
     *
     * **Please note**, these can possibly be unknown if the SDK is not fully compatible with the Concordium
     * node queried, in which case `null` is returned.
     */
    events: Upward<TokenEvent>[];
};
export type BlockItemSummary = AccountTransactionSummary | AccountCreationSummary | UpdateSummary | TokenCreationSummary;
export interface BlockItemSummaryInBlock {
    blockHash: BlockHash.Type;
    /**
     * The summary/outcome of processing the block item.
     *
     * **Please note**, this can possibly be unknown if the SDK is not fully compatible with the Concordium
     * node queried, in which case `null` is returned.
     */
    summary: Upward<BlockItemSummary>;
}
export interface PendingBlockItem {
    status: TransactionStatusEnum.Received;
}
export interface CommittedBlockItem {
    status: TransactionStatusEnum.Committed;
    outcomes: BlockItemSummaryInBlock[];
}
export interface FinalizedBlockItem {
    status: TransactionStatusEnum.Finalized;
    outcome: BlockItemSummaryInBlock;
}
export type BlockItemStatus = CommittedBlockItem | FinalizedBlockItem | PendingBlockItem;
/**
 * Type predicate for {@link InitContractSummary}.
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {boolean} whether summary is of type `InitContractSummary`.
 */
export declare const isInitContractSummary: (summary: BlockItemSummary) => summary is BaseAccountTransactionSummary & InitContractSummary;
/**
 * Type predicate for {@link UpdateContractSummary}.
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {boolean} whether summary is of type `UpdateContractSummary`.
 */
export declare const isUpdateContractSummary: (summary: BlockItemSummary) => summary is BaseAccountTransactionSummary & UpdateContractSummary;
/**
 * Type predicate for transfer-like transactions.
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {boolean} whether summary is of type `TransferSummary` or `TransferWithMemoSummary`.
 */
export declare const isTransferLikeSummary: (summary: BlockItemSummary) => summary is BaseAccountTransactionSummary & (TransferSummary | TransferWithMemoSummary);
/**
 * Type predicate for {@link FailedTransactionSummary}.
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {boolean} whether transaction was rejected.
 */
export declare const isRejectTransaction: (summary: BlockItemSummary) => summary is BaseAccountTransactionSummary & FailedTransactionSummary;
/**
 * Helper function to determine whether a transaction was successful (inverse of {@link isRejectTransaction}).
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {boolean} whether transaction was successful.
 */
export declare const isSuccessTransaction: (summary: BlockItemSummary) => summary is (BaseAccountTransactionSummary & TransferSummary) | (BaseAccountTransactionSummary & TransferWithMemoSummary) | (BaseAccountTransactionSummary & TransferWithScheduleSummary) | (BaseAccountTransactionSummary & TransferWithScheduleAndMemoSummary) | (BaseAccountTransactionSummary & EncryptedAmountTransferSummary) | (BaseAccountTransactionSummary & EncryptedAmountTransferWithMemoSummary) | (BaseAccountTransactionSummary & DataRegisteredSummary) | (BaseAccountTransactionSummary & TransferToPublicSummary) | (BaseAccountTransactionSummary & TransferToEncryptedSummary) | (BaseAccountTransactionSummary & ModuleDeployedSummary) | (BaseAccountTransactionSummary & InitContractSummary) | (BaseAccountTransactionSummary & UpdateContractSummary) | (BaseAccountTransactionSummary & AddBakerSummary) | (BaseAccountTransactionSummary & RemoveBakerSummary) | (BaseAccountTransactionSummary & UpdateBakerKeysSummary) | (BaseAccountTransactionSummary & UpdateBakerStakeSummary) | (BaseAccountTransactionSummary & UpdateBakerRestakeEarningsSummary) | (BaseAccountTransactionSummary & ConfigureBakerSummary) | (BaseAccountTransactionSummary & ConfigureDelegationSummary) | (BaseAccountTransactionSummary & UpdateCredentialKeysSummary) | (BaseAccountTransactionSummary & UpdateCredentialsSummary) | (BaseAccountTransactionSummary & TokenUpdateSummary) | AccountCreationSummary | UpdateSummary | TokenCreationSummary;
/**
 * Gets the {@link RejectReason} for rejected transction.
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {RejectReason | undefined} Reject reason if `summary` is a rejected transaction. Otherwise returns undefined.
 */
export declare function getTransactionRejectReason<T extends FailedTransactionSummary>(summary: T): Upward<RejectReason>;
export declare function getTransactionRejectReason(summary: AccountCreationSummary | UpdateSummary): undefined;
export declare function getTransactionRejectReason(summary: Exclude<AccountTransactionSummary, FailedTransactionSummary>): undefined;
export declare function getTransactionRejectReason(summary: BlockItemSummary): Upward<RejectReason> | undefined;
/**
 * Gets the receiver account of a transaction, if the transaction is a transfer transaction (excluding encrypted transfers).
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {Base58String | undefined} The receiver account for transfer transactions. Otherwise returns undefined.
 */
export declare function getReceiverAccount<T extends TransferSummary | TransferWithMemoSummary | TransferWithScheduleSummary | TransferWithScheduleAndMemoSummary>(summary: T): AccountAddress.Type;
export declare function getReceiverAccount(summary: Exclude<AccountTransactionSummary, TransferSummary | TransferWithMemoSummary | TransferWithScheduleSummary | TransferWithScheduleAndMemoSummary>): undefined;
export declare function getReceiverAccount(summary: AccountCreationSummary | UpdateSummary): undefined;
export declare function getReceiverAccount(summary: BlockItemSummary): AccountAddress.Type | undefined;
/**
 * Gets a list of {@link ContractAddress} contract addresses affected by the transaction.
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {Upward<ContractAddress.Type>[]} List of contract addresses affected by the transaction.
 */
export declare function affectedContracts<T extends InitContractSummary | UpdateContractSummary>(summary: T): Upward<ContractAddress.Type>[];
export declare function affectedContracts(summary: Exclude<AccountTransactionSummary, InitContractSummary | UpdateContractSummary>): never[];
export declare function affectedContracts(summary: AccountCreationSummary | UpdateSummary): never[];
export declare function affectedContracts(summary: BlockItemSummary): Upward<ContractAddress.Type>[];
/**
 * Gets a list of {@link Base58String} account addresses affected by the transaction.
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {Upward<AccountAddress.Type>[]} List of account addresses affected by the transaction.
 */
export declare function affectedAccounts(summary: AccountTransactionSummary): Upward<AccountAddress.Type>[];
export declare function affectedAccounts(summary: TokenCreationSummary): Upward<AccountAddress.Type>[];
export declare function affectedAccounts(summary: AccountCreationSummary | UpdateSummary): never[];
export declare function affectedAccounts(summary: BlockItemSummary): Upward<AccountAddress.Type>[];
export type SummaryContractUpdateLog = {
    address: ContractAddress.Type;
    events: ContractEvent.Type[];
};
/**
 * Gets a list of update logs, each consisting of a {@link ContractAddress.Type} and a list of {@link ContractEvent.Type} events.
 * The list will be empty for any transaction type but {@link UpdateContractSummary} contract updates.
 *
 * @param {BlockItemSummary} summary - The block item summary to check.
 *
 * @returns {Upward<SummaryContractUpdateLog>[]} List of update logs corresponding to the transaction.
 */
export declare function getSummaryContractUpdateLogs<T extends UpdateContractSummary>(summary: T): Upward<SummaryContractUpdateLog>[];
export declare function getSummaryContractUpdateLogs(summary: AccountCreationSummary | UpdateSummary): never[];
export declare function getSummaryContractUpdateLogs(summary: Exclude<AccountTransactionSummary, UpdateContractSummary>): never[];
export declare function getSummaryContractUpdateLogs(summary: BlockItemSummary): Upward<SummaryContractUpdateLog>[];
